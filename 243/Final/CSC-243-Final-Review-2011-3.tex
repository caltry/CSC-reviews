\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{listings}
\usepackage{needspace}
\usepackage{color}
\usepackage{ifthen}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{arrows,automata}
\usepackage{amsmath}
\usepackage{url}

\lstset{ %
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
tabsize=4,		                % sets default tabsize to 4 spaces
language=Java
}

\ifthenelse{\isundefined{\isAnswerKey}}
{
    \newenvironment{answer}{\large\lstset{basicstyle=\large}\color{white}}{}
}
{
    \newenvironment{answer}{\large\lstset{basicstyle=\large}\color{red}}{}
}


\author{Computer Science Community}
\title{CS-243 Final Exam Review}
\date{Spring, 2011-3}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\let\thedate\@date
\makeatother

\begin{document}
\noindent{\Large \thetitle \hfill \thedate}\\
\noindent{\small Presented by the RIT Computer Science Community \hfill
\url{http://csc.cs.rit.edu}}

\begin{enumerate}

\item {\bf Nick's Heavy Threads} Nick operates a store in Marketview Mall which
      has poor lighting, blasts black metal and sells jeans. Only one pair of
      jeans are available to purchase at a time, though there are more
      available in the back. If a size is out that you don't want, you must
      wait for someone else to purchase the jeans. Nick's only employee, Hank,
      sits in a chair and stares at people angrily until someone makes a
      purchase, when he replaces the jeans with the same model of a random
      size.
    
\begin{lstlisting}
public class NicksHeavyThreads
{
    Jeans awesomeJeans;
    public static void main(String... args)
    {
      MeanWorker.start();
      for(int i=0; i < 10; ++i)
      {
          LameCustomer.start();
      }
    }
}
\end{lstlisting}

    \begin{enumerate}
    \item What basic threading model can deal with this?
        \begin{enumerate}
        \item Banker's algorithm    \begin{answer}~\end{answer}
        \item Producer/Consumer     \begin{answer}True\end{answer}
        \item Y Combinator          \begin{answer}~\end{answer}
        \item Pessimistic locking   \begin{answer}~\end{answer}
        \end{enumerate}
    
    \item Write Hank's class. Recall that he must replace jeans as soon as they
          are sold.

        \begin{answer}
\begin{lstlisting}
public class MeanWorker
{
    public void run()
    {
        synchronized (awesomeJeans) {
            if( awesomeJeans == 0 )
            {
                awesomeJeans++;
            }
        }
    }
\end{lstlisting}
        \end{answer}
    \end{enumerate}


\item{\bf $\textrm{B}^+$Trees} A $\textrm{B}^+$ tree is a data structure that
can be used to map from keys to values. Figure \ref{b-tree} shows a tree that
maps from ints to Strings. Note that there are 4 slots for values, even though
there are only 3 keys. This is because the arrays of keys in the top two rows
specify a range: [3,5,7] are less than 10, so they go into the leftmost
reference, while [15,20,\_] are all $\geq 20$ and $<35$.

The bottom row of nodes have a direct correspondence between a key and a value.
And each level of nodes is connected together as a linked list.

\begin{figure}
\caption{A partially drawn $\textrm{B}^+$-Tree of strings, keyed on integers}
\label{b-tree}
\center
\includegraphics[width=5in]{b_plus_tree_dot.pdf}
\end{figure}

    \begin{enumerate}
    \item What Java Collections Framework interface should a
    $\textrm{B}^+$-Tree be able to implement?

        \begin{answer}
        Java.util.Map$<$K,V$>$
        \end{answer}

    \item We need to implement two different kinds of nodes for the tree. Why
    do we need to do this? What is different between the two types of nodes?

        \begin{answer}
        Some nodes (the leaves) point to data values. We also have internal
        nodes which point to other nodes (both internal nodes and leaves).
        \end{answer}

    \item We need classes to represent the nodes of the tree. Implement these
    classes so that they use generic types and all of their members are package
    private.

\begin{answer}
\begin{lstlisting}
public interface Node<K,V> {}

public class InternalNode<K,V> implements BTreeNode<K,V>
{
    K[] keys;
    Node<K,V>[] children;
    InternalNode<K,V> next;
}

public class LeafNode<K,V> implements BTreeNode<K,V>
{
    K keys[];
    V values[];
    LeafNode<K,V> next;
}
\end{lstlisting}
\end{answer}

    \end{enumerate}

\end{enumerate}

\end{document}

Topics for this exam: (from the ZJB!)
Oh yeah!  We're moving topics around on the schedule (which won't impact
the exam, obviously), de-emphasizing some of the design patterns, and
(the big one) putting in threads.  Still not sure what detail we'll have
with threads, but about one week's worth.

Here is what will go on the syllabus:

Week #  Schedule
------  ---------------------------
1        Intro to Java
2        Classes (scope and equals)
3        Interfaces
4        Inheritance (equals pt2)
5        JCF, O-O design
6        Iterators, Comparators, and intro to Swing
7        Event driven programming
8        Exceptions, I/O
9        Threads
10       Design Patterns

